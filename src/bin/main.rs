use nesamabob::cpu::Cpu;

fn main() {
    let mut cpu = Cpu::new();

    cpu.mem_write(0x20, 0x01);
    cpu.mem_write(0x21, 0x23);
    cpu.mem_write(0x22, 0x45);
    cpu.mem_write(0x23, 0x67);
    cpu.mem_write(0x24, 0x89);
    cpu.mem_write(0x25, 0xAB);
    cpu.mem_write(0x26, 0xCD);
    cpu.mem_write(0x27, 0xEF);

    cpu.mem_write(0x0, 0xA5);
    cpu.mem_write(0x1, 0x20);
    cpu.mem_write(0x2, 0x85);
    cpu.mem_write(0x3, 0x30);

    cpu.mem_write(0x4, 0xA5);
    cpu.mem_write(0x5, 0x21);
    cpu.mem_write(0x6, 0x85);
    cpu.mem_write(0x7, 0x31);

    cpu.mem_write(0x8, 0xA5);
    cpu.mem_write(0x9, 0x22);
    cpu.mem_write(0xA, 0x85);
    cpu.mem_write(0xB, 0x32);

    cpu.mem_write(0xC, 0xA5);
    cpu.mem_write(0xD, 0x23);
    cpu.mem_write(0xE, 0x85);
    cpu.mem_write(0xF, 0x33);

    cpu.mem_write(0x10, 0xA5);
    cpu.mem_write(0x11, 0x24);
    cpu.mem_write(0x12, 0x85);
    cpu.mem_write(0x13, 0x34);

    cpu.mem_write(0x14, 0xA5);
    cpu.mem_write(0x15, 0x25);
    cpu.mem_write(0x16, 0x85);
    cpu.mem_write(0x17, 0x35);

    cpu.mem_write(0x18, 0xA5);
    cpu.mem_write(0x19, 0x26);
    cpu.mem_write(0x1A, 0x85);
    cpu.mem_write(0x1B, 0x36);

    cpu.mem_write(0x1C, 0xA5);
    cpu.mem_write(0x1D, 0x27);
    cpu.mem_write(0x1E, 0x85);
    cpu.mem_write(0x1F, 0x37);

    println!("{:x?}", cpu.memory);
    cpu.run();
    println!("{:x?}", cpu.memory);
}
